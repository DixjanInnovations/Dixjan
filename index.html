<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dixjan Innovations | Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f9fc;
      --card: #fff;
      --shadow: 0 8px 32px 0 rgba(0,36,57,0.11);
      --primary: #0764b9;
      --primary-ink: #04509e;
      --secondary: #00a6af;
      --muted: #8291a5;
      --border: #deebf3;
    }
    html, body {
      background: var(--bg);
      margin: 0;
      padding: 0;
      font-family: Inter, Arial, sans-serif;
      color: #14202d;
      min-height: 100%;
    }
    a { color: var(--primary-ink); text-decoration: none; }

    /* HEADER */
    .topbar {
      position: sticky; top: 0; z-index: 100;
      background: #fff; border-bottom: 1px solid var(--border);
      display: flex; align-items: center; height: 62px;
      box-shadow: 0 2px 14px 0 rgba(0,97,196,0.03);
      padding: 0 3vw;
      gap: 24px;
    }
    .brand {
      font-size: 1.25em; font-weight: 800; letter-spacing: 1px; display: flex; align-items: center; gap: 12px;
    }
    .brand-logo {
      width: 30px; height: 30px; border-radius: 7px;
      background: linear-gradient(135deg,#fff6,#0764b9 94%);
      display: flex; align-items: center; justify-content: center;
    }
    .nav {
      display: flex; flex-wrap: wrap; gap: 10px;
    }
    .nav a {
      padding: 8px 13px; border-radius: 6px; font-weight: 500; color: #184661; 
      transition: background .13s,color .13s;
      font-size: 15px;
    }
    .nav a:hover { background: #f1f6fa; color: var(--primary); }
    .spacer { flex: 1; }
    .searchbar {
      background: #f3f7fa; border-radius: 24px; padding: 7px 15px;
      display: flex; align-items: center; gap: 7px;
      border: 1px solid #e5eefa;
      min-width: 170px;
    }
    .searchbar input {
      border: none; background: none; outline: none; width: 150px; font-size: 15px;
      font-family: inherit;
    }
    /* Dropdown for admin */
    .dropdown {
      position: relative;
    }
    .dropdown-btn {
      border: none; background: none; padding: 4px 9px;
      font-size: 22px; color: var(--primary-ink); display: flex; align-items: center; cursor: pointer; border-radius: 7px;
      transition: background .13s;
    }
    .dropdown-btn:hover { background: #e5eefa; }
    .dropdown-content {
      display: none; position: absolute; right: 6px; min-width: 164px; margin-top: 7px;
      background: #fff; border-radius: 10px; box-shadow: 0 3px 22px 0 rgba(60,74,104,.10);
      border: 1px solid var(--border);
      z-index: 99; flex-direction: column;
      animation: fadeIn .21s;
    }
    .dropdown.open .dropdown-content { display: flex; }
    @keyframes fadeIn { from{opacity:0;transform:translateY(10px);} to{opacity:1;transform:translateY(0);} }
    .dropdown-content a {
      font-size: 15px; color: #214357; padding: 13px 16px; cursor: pointer;
      border-radius: 8px; margin: 2px 0; font-weight: 500;
      transition: background .12s;
    }
    .dropdown-content a:hover { background: #e5eefa; color: var(--primary);}
    /* Modal for admin login */
    .modal-bg { position:fixed;z-index:3000;inset:0;display:flex;align-items:center;justify-content:center; background:rgba(48,59,71,0.15);}
    .modal {
      background: #fff; padding: 33px 27px 22px; border-radius: 14px; box-shadow: 0 10px 32px rgba(0,36,57,0.11);
      text-align: center; min-width:310px; max-width:98vw; position:relative;
    }
    .modal h2 { margin: 0 0 12px; }
    .modal button { font-size: 15px; font-family: inherit;}
    .modal input { margin:12px 0 4px;width:93%; padding:9px; font-size:17px; border-radius:7px; border:1px solid #abc7e6;}
    .modal-btn { padding:8px 18px; background:var(--primary); color:#fff; border:none; border-radius:7px; font-weight:600;}
    .modal-msg{color:#b30e2a; padding: 3px 0 6px; min-height:18px;}
    .modal-close { position:absolute;top:6px;right:10px;background:none;border:none;font-size:25px;color:#125187;cursor:pointer;}
    /* HERO */
    .hero {
      margin: 48px auto 18px; margin-top: max(5vmin,32px);
      background: radial-gradient(ellipse at 7% 35%,#fefafa 60%,#d3eaff 125%);
      border-radius: 22px; 
      box-shadow: var(--shadow);
      max-width: 1100px; min-height: 255px;
      display: flex; flex-wrap: wrap; align-items: center; gap: 0; overflow: hidden;
    }
    .hero-content { flex: 1 1 320px; padding: 44px 4vw 40px 40px; }
    .hero-title { font-size: 2.1em; font-weight: 800; margin-bottom: 11px;}
    .hero-sub { color: #305372; line-height: 1.5; max-width: 410px; font-size: 1.15em;}
    .hero-actions { margin-top: 22px; }
    .hero-actions .btn { margin-right: 9px; margin-bottom: 7px;}
    .hero-image { flex:1 1 320px; display: flex; justify-content: flex-end; align-items:center; padding-right: 3vw;}
    .hero-image img { max-width: 288px; max-height: 208px; width: 100%; border-radius:18px; box-shadow:0 1px 16px #b3e4fd33 }
    /* Category bar */
    .categories { max-width:1100px; margin:16px auto 0; display:flex; gap:10px; flex-wrap:wrap; padding:0 10px;}
    .pill {
      padding: 7px 16px; font-size:15px; border-radius: 999px; border: 1.7px solid #cae1fb;
      background: #f6fcff; color: #206ead; font-weight: 600; cursor: pointer; transition: background .14s, color .14s;
    }
    .pill.active { background:var(--primary); color:#fff; border-color:var(--primary);}
    /* Product grid */
    .section { max-width: 1100px; margin: 18px auto 0; padding: 0 5px;}
    .section-title {margin-left:8px;font-weight:900;font-size:1.28em;}
    .grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:22px;}
    .card {
      background: var(--card); border-radius: 15px; box-shadow: var(--shadow); padding: 0 0 5px; overflow:hidden;
      display: flex; flex-direction: column; border: 1px solid #e3eaf2;
      transition: box-shadow .15s;
    }
    .card img { width: 100%; height: 168px; object-fit: cover; border-radius: 15px 15px 0 0;}
    .card-body { padding: 11px 16px; display: flex; flex-direction: column; gap: 7px; }
    .title { font-weight: 700; font-size: 18px;}
    .meta { color: var(--muted); font-size: 13.5px;}
    .price { font-weight: 800; color: var(--primary-ink); font-size:16px }
    .badge { display: inline-block; padding: 4px 10px; border-radius: 999px; font-size: 13px; border: 1.2px solid #e3eaf2; background: #effaff; font-weight:500;}
    .actions { display: flex; gap: 7px;}
    .actions .btn{
      padding:8px 12px;border-radius:7px;border:1px solid #e3eaf2;background:#fcfcfc;font-weight:600;cursor:pointer;transition:.13s;}
    .actions .btn.primary{background:var(--primary);color:#fff;border-color:var(--primary);}
    .actions .btn.primary:hover {background:var(--primary-ink);}
    /* FOOTER */
    footer {border-top:1px solid #e3eaf2;margin-top:54px;background:#f6fcff;}
    .footer-inner {
      max-width:1100px;
      margin: 0 auto; padding: 25px 10px; color: var(--muted); font-size: 15px;
      display: grid; grid-template-columns: repeat(auto-fit, minmax(140px,1fr)); gap: 16px;
      word-break:break-word;
    }
    .footer-col h4 {margin:5px 0 8px; color:#305372;font-size:1em}
    .footer-col a { display: block; padding: 7px 0; color: #3b5168; font-size:15px;}
    .footer-col a:hover{ color:var(--primary);}
    .footer-bottom {
      max-width: 1100px; margin: 0 auto; padding: 13px 9px; display: flex; justify-content: space-between; color: #7490b1;
      font-size:14px;
    }
    @media (max-width: 710px) {
      .hero { flex-direction: column; padding:8px 0;}
      .hero-content { padding: 28px 6vw 12px 7vw; }
      .hero-image { padding: 7px 0 16px 0; justify-content: center;}
      .hero-image img { max-width: 88vw;}
      .grid {gap:17px;}
    }
  </style>
</head>
<body>
<!-- Modal for admin login -->
<div id="adminModal" class="modal-bg" style="display:none;">
  <div class="modal" id="adminModalBox">
    <button class="modal-close" onclick="document.getElementById('adminModal').style.display='none'">&times;</button>
    <h2 id="adminModalTitle"></h2>
    <div class="modal-msg" id="adminModalMsg"></div>
    <input id="adminModalPw" type="password" placeholder="Admin password" autocomplete="off" />
    <input id="adminModalPw2" type="password" style="display:none;" placeholder="Repeat password"/>
    <button id="adminModalBtn" class="modal-btn"></button>
  </div>
</div>
<header class="topbar">
  <span class="brand">
    <span class="brand-logo"><svg width="22" height="22" viewBox="0 0 20 20"><rect width="9" height="9" x="1" y="1" fill="#0764b9" rx="2"/><rect width="9" height="9" x="10" y="1" fill="#238aea" rx="2"/><rect width="9" height="9" x="1" y="10" fill="#01d6dd" rx="2"/><rect width="9" height="9" x="10" y="10" fill="#f8bc2e" rx="2"/></svg></span>
    Dixjan Innovations
  </span>
  <nav class="nav">
    <a href="#">Surface</a>
    <a href="#">Xbox</a>
    <a href="#">Deals</a>
    <a href="#">Business</a>
    <a href="#">Support</a>
  </nav>
  <div class="spacer"></div>
  <div class="searchbar">
    <svg width="16" height="16" viewBox="0 0 24 24"><path fill="#1561ba" d="M15.5 14h-.79l-.28-.27A6.475 6.475 0 1 0 14 15.5l.27.28v.79l5 5a1 1 0 0 0 1.42-1.42l-5-5zm-6 0A4.5 4.5 0 1 1 14 9.5 4.504 4.504 0 0 1 9.5 14z"/></svg>
    <input id="searchInput" type="search" placeholder="Search products" spellcheck="false" />
  </div>
  <div class="dropdown" id="manageDropdown">
    <button class="dropdown-btn" id="dropdownBtn" title="Menu" aria-label="Menu">
      <svg width="25" height="25" viewBox="0 0 24 24"><path fill="#0764b9" d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/></svg>
    </button>
    <div class="dropdown-content">
      <a id="adminLoginLink">Admin Login</a>
    </div>
  </div>
</header>
<section class="hero" id="heroSection">
  <div class="hero-content">
    <div class="badge">Featured</div>
    <div class="hero-title" id="heroTitle">Discover the latest from Dixjan Innovations</div>
    <div class="hero-sub" id="heroSubtitle">Premium laptops, accessories, and gaming—curated for your next upgrade.</div>
    <div class="hero-actions">
      <button class="btn primary" id="heroPrimaryBtn">Shop now</button>
      <button class="btn" id="heroSecondaryBtn">Learn more</button>
    </div>
  </div>
  <div class="hero-image">
    <img id="heroImage" src="" alt="Hero preview">
  </div>
</section>
<div class="categories" id="categoryPills"></div>
<section class="section">
  <div class="section-title">Top picks</div>
  <div class="grid" id="productGrid"></div>
</section>
<footer>
  <div class="footer-inner">
    <div class="footer-col">
      <h4>Shop</h4>
      <a href="#">Surface</a>
      <a href="#">Accessories</a>
      <a href="#">Xbox</a>
      <a href="#">Business</a>
    </div>
    <div class="footer-col">
      <h4>Support</h4>
      <a href="#">Help center</a>
      <a href="#">Warranty</a>
      <a href="#">Returns</a>
    </div>
    <div class="footer-col">
      <h4>Company</h4>
      <a href="#">About Dixjan</a>
      <a href="#">Careers</a>
      <a href="#">Contact</a>
    </div>
    <div class="footer-col">
      <h4>Legal</h4>
      <a href="#">Terms</a>
      <a href="#">Privacy</a>
    </div>
  </div>
  <div class="footer-bottom">
    <span>© <span id="year"></span> Dixjan Innovations</span>
    <span>Built for you with love</span>
  </div>
</footer>
<script>
  // --- Admin security logic ---
  const ADMIN_KEY = "dixjan_adminpw";
  const ADMIN_SESSION = "dixjan_adminsessionv1";
  const ADMIN_PW_SALT = "dixjan_store_2024";
  function hashPw(pw) {
    if(window.crypto && window.crypto.subtle) {
      return crypto.subtle.digest("SHA-256", new TextEncoder().encode(pw + ADMIN_PW_SALT)).then(buffer => {
        return Array.from(new Uint8Array(buffer)).map(x=>x.toString(16).padStart(2,"0")).join("");
      });
    } else {
      return Promise.resolve(btoa(pw + ADMIN_PW_SALT));
    }
  }
  function isAdminLoggedIn() {
    return localStorage.getItem(ADMIN_SESSION) === "yes";
  }
  document.getElementById('dropdownBtn').onclick = function(e){
    let d = document.getElementById("manageDropdown");
    d.classList.toggle("open");
    e.stopPropagation();
  };
  document.body.addEventListener('click', function(){ document.getElementById("manageDropdown").classList.remove("open"); });
  document.getElementById('adminLoginLink').onclick = function(){
    openAdminModal();
    document.getElementById("manageDropdown").classList.remove("open");
  };
  function openAdminModal(){
    const modal = document.getElementById("adminModal");
    const title = document.getElementById("adminModalTitle");
    const msg = document.getElementById("adminModalMsg");
    const btn = document.getElementById("adminModalBtn");
    const pw = document.getElementById("adminModalPw");
    const pw2 = document.getElementById("adminModalPw2");
    const hasPw = !!localStorage.getItem(ADMIN_KEY);
    msg.textContent = ""; pw.value = ""; pw2.value = "";
    if(!hasPw){
      title.textContent = "Set Admin Password";
      pw.placeholder = "Create new password";
      pw2.style.display = "";
      btn.textContent = "Set Password";
      btn.onclick = async function(){
        if(pw.value.length < 4){ msg.textContent = "Password too short."; return; }
        if(pw.value !== pw2.value){ msg.textContent = "Passwords do not match."; return; }
        const hashed = await hashPw(pw.value);
        localStorage.setItem(ADMIN_KEY, hashed);
        localStorage.setItem(ADMIN_SESSION, "yes");
        window.location.href = "admin.html";
      };
    }else{
      title.textContent = "Admin Login";
      pw.placeholder = "Enter password";
      pw2.style.display = "none";
      btn.textContent = "Login";
      btn.onclick = async function(){
        const hashed = await hashPw(pw.value);
        if(hashed === localStorage.getItem(ADMIN_KEY)){
          localStorage.setItem(ADMIN_SESSION, "yes");
          window.location.href = "admin.html";
        }else{
          msg.textContent = "Incorrect password!";
        }
      };
    }
    modal.style.display = "";
  }
  document.getElementById("adminModalPw").addEventListener("keypress", function(e){ if(e.key === "Enter"){ document.getElementById("adminModalBtn").click(); }});
  document.getElementById("adminModalPw2").addEventListener("keypress", function(e){ if(e.key === "Enter"){ document.getElementById("adminModalBtn").click(); }});
  document.getElementById("adminModal").addEventListener("click", function(e){ if(e.target === this) this.style.display = "none"; });
  // Storefront logic below
  const LS_KEYS = { products: 'dixjan_products', categories: 'dixjan_categories', hero: 'dixjan_hero' };
  const dataUrlPlaceholder = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAADbplcFAAAAMFBMVEXMzMz////JycmTk5P7+/vt7e3AwMC/v78dHR3Ozs7Z2dmDg4OcnJy6urrBwcHZ2dnFxcUqKir3iICxAAABNklEQVR4nO3QUQ7CMAwF0XwDJf//4m4lLbROI3pn8vjy5Nhggguu+8MsySCPFrlJB1x9MRWe3Iz4wwIyyNF43yA0FoQGuQGnQGrQGtQGsQGuQGnQGrQGtQGsQGuQGnQGrQGtQGsQGuQGnQGrQGtQGsQGuQGnQGrQGtQGsQGuQGnQGrQxMRnBWIwl6IqotZYkAAAAASUVORK5CYII=";
  function cryptoRandomId() {
    const arr = new Uint32Array(2);
    if (window.crypto && window.crypto.getRandomValues) window.crypto.getRandomValues(arr);
    else { arr[0] = Math.floor(Math.random()*1e9); arr[1] = Math.floor(Math.random()*1e9); }
    return 'p_' + arr[0].toString(16) + arr[1].toString(16);
  }
  const defaultProducts = [
    { id: cryptoRandomId(), title: 'Dixjan Laptop 14', category: 'Laptops', price: 899.99, image: dataUrlPlaceholder, description: 'Slim, fast, and ready for work and play.', tag: 'New' },
    { id: cryptoRandomId(), title: 'Dixjan Pro 2-in-1', category: 'Tablets', price: 1099.00, image: dataUrlPlaceholder, description: 'Tablet versatility with laptop power.', tag: 'Bestseller' },
    { id: cryptoRandomId(), title: 'Dixjan Gaming X', category: 'Xbox', price: 499.00, image: dataUrlPlaceholder, description: 'Next‑gen performance for immersive play.', tag: 'Hot' },
    { id: cryptoRandomId(), title: 'Dixjan Wireless Headset', category: 'Accessories', price: 129.99, image: dataUrlPlaceholder, description: 'Crystal‑clear audio and all‑day comfort.', tag: 'Deal' }
  ];
  const defaultCategories = ['All', 'Laptops', 'Tablets', 'Accessories', 'Xbox'];
  const defaultHero = {
    title: 'Discover the latest from Dixjan Innovations',
    subtitle: 'Premium laptops, accessories, and gaming—curated for your next upgrade.',
    image: dataUrlPlaceholder,
    primaryText: 'Shop now',
    secondaryText: 'Learn more',
    link: '#'
  };
  function getData(key, fallback) {
    try {
      const raw = localStorage.getItem(key);
      return raw ? JSON.parse(raw) : fallback;
    } catch { return fallback; }
  }
  function setData(key, value) { localStorage.setItem(key, JSON.stringify(value)); }
  (function init() {
    if (!localStorage.getItem(LS_KEYS.products)) setData(LS_KEYS.products, defaultProducts);
    if (!localStorage.getItem(LS_KEYS.categories)) setData(LS_KEYS.categories, defaultCategories);
    if (!localStorage.getItem(LS_KEYS.hero)) setData(LS_KEYS.hero, defaultHero);
  })();
  const productGrid = document.getElementById('productGrid');
  const categoryPills = document.getElementById('categoryPills');
  const searchInput = document.getElementById('searchInput');
  function renderHero() {
    const hero = getData(LS_KEYS.hero, defaultHero);
    document.getElementById('heroTitle').textContent = hero.title || defaultHero.title;
    document.getElementById('heroSubtitle').textContent = hero.subtitle || defaultHero.subtitle;
    document.getElementById('heroImage').src = hero.image || dataUrlPlaceholder;
    document.getElementById('heroPrimaryBtn').textContent = hero.primaryText || defaultHero.primaryText;
    document.getElementById('heroSecondaryBtn').textContent = hero.secondaryText || defaultHero.secondaryText;
    document.getElementById('heroPrimaryBtn').onclick = () => hero.link ? window.location.href = hero.link : null;
    document.getElementById('heroSecondaryBtn').onclick = () => alert('More info coming soon.');
  }
  function renderCategories(active = 'All') {
    const cats = getData(LS_KEYS.categories, defaultCategories);
    categoryPills.innerHTML = '';
    cats.forEach(cat => {
      const el = document.createElement('button');
      el.className = 'pill' + (cat === active ? ' active' : '');
      el.textContent = cat;
      el.addEventListener('click', () => {
        document.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
        el.classList.add('active');
        renderProducts(cat, searchInput.value.trim());
      });
      categoryPills.appendChild(el);
    });
  }
  function renderProducts(filterCat = 'All', query = '') {
    const products = getData(LS_KEYS.products, defaultProducts);
    const q = query.toLowerCase();
    const list = products.filter(p => {
      const matchCat = filterCat === 'All' || p.category === filterCat;
      const matchQ = !q || p.title.toLowerCase().includes(q) || (p.description||'').toLowerCase().includes(q);
      return matchCat && matchQ;
    });
    productGrid.innerHTML = '';
    if (!list.length) {
      productGrid.innerHTML = '<p style="color:#7490b1;font-size:16px;padding:18px 3px;">No products found.</p>';
      return;
    }
    list.forEach(p => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${p.image ? p.image : dataUrlPlaceholder}" alt="${p.title}">
        <div class="card-body">
          <span class="badge">${p.tag || 'Featured'}</span>
          <div class="title">${p.title}</div>
          <div class="meta">${p.category}</div>
          <div class="price">$${Number(p.price).toFixed(2)}</div>
          <p class="meta">${p.description || ''}</p>
          <div class="actions">
            <button class="btn primary">Buy</button>
            <button class="btn">Details</button>
          </div>
        </div>
      `;
      productGrid.appendChild(card);
    });
  }
  searchInput.addEventListener('input', () => {
    const active = document.querySelector('.pill.active')?.textContent || 'All';
    renderProducts(active, searchInput.value.trim());
  });
  document.getElementById('year').textContent = new Date().getFullYear();
  renderHero();
  renderCategories('All');
  renderProducts('All', '');
</script>
</body>
</html>
